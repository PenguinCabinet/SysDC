layer 0;

ref printer Printer;

data User {
    id: int32,
    name: string,
    age: int32
}

module UserModule binds User as this {
    inc_age() -> None {
        modify = [this.age];
    }

    change_name(name: string) -> None {
        use = [name];
        modify = [this.name];
    }

    info() -> None {
        use = [this.all];
        link = chain {
                branch {
                    chain {
                        Printer::print(this.id),
                        Printer::print(this.name)
                    },
                    Printer::print(this.name)
                },
                Printer::print(this.age)
            }
    }
}
